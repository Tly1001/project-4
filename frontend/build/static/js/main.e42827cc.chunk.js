(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(31),r=t.n(c),s=(t(55),t(56),t(57),t(58),t(59),t(60),t(61),t(62),t(63),t(5)),o=t(6),m=t(8),i=function(){return window.localStorage.getItem("vandnpersonaltoken")},u=function(){var e=i();if(!e)return!1;var a=e.split(".");return!(a.length<3)&&JSON.parse(window.atob(a[1]))},p=function(){var e=u();return!!e&&Math.round(Date.now()/1e3)<e.exp};var d=function(){var e=l.a.useState(!1),a=Object(m.a)(e,2),t=a[0],n=a[1],c=Object(o.g)().pathname,r=Object(o.f)(),i=function(){localStorage.removeItem("vandnpersonaltoken"),r.push("/login")};return l.a.useEffect((function(){n(!1)}),[c]),l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar is-fixed-top"},l.a.createElement("div",{className:"nav-wrap"},l.a.createElement("span",{className:"burger ".concat(t?"is-active":""),onClick:function(){n(!t)}},l.a.createElement("span",{className:"".concat(t?"burger-first-active":"")}),l.a.createElement("span",{className:"".concat(t?"burger-mid-active":"")}),l.a.createElement("span",{className:"".concat(t?"burger-last-active":"")})),l.a.createElement(s.b,{className:"logo",to:"/"},l.a.createElement("h1",null,"V & N Beauty and Nails")),!p()&&l.a.createElement(s.b,{className:"nav-button",to:"/login"},l.a.createElement("p",null,"Log in")),p()&&l.a.createElement("p",{onClick:i,className:"nav-button"},"Log out"))),l.a.createElement("ul",{className:"menu ".concat(t?"menu-active":"")},l.a.createElement(s.b,{className:"",to:"/"},l.a.createElement("li",null,"Home")),p()?l.a.createElement(s.b,{className:"",to:"/bookings"},l.a.createElement("li",null,"Bookings")):l.a.createElement(s.b,{className:"",to:"/login"},l.a.createElement("li",null,"Bookings")),l.a.createElement(s.b,{className:"",to:"/menu"},l.a.createElement("li",null,"Treatment Menu")),l.a.createElement(s.b,{className:"",to:"/location"},l.a.createElement("li",null,"Location")),!p()&&l.a.createElement(s.b,{className:"",to:"/login"},l.a.createElement("li",null,"Log in")),!p()&&l.a.createElement(s.b,{className:"",to:"/register"},l.a.createElement("li",null,"Register")),p()&&l.a.createElement("li",{onClick:i},"Log out")))};var E=function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"footer-wrap"},l.a.createElement("p",null,"V & N Beauty and Nails | 10 Wilcox Road | Oval | London | SW8 2UX"),l.a.createElement("p",null,"020 7498 2370  |  VNBeauty@mail.com  |  Website designed by ",l.a.createElement("span",null,"thomasly1001@gmail.com"))))},b=["https://cdn.spafinder.com/2019/03/facial8.jpg","https://media-cdn.tripadvisor.com/media/photo-m/1280/13/47/8f/34/atipat-thai-massage.jpg","https://i.pinimg.com/474x/b7/f4/d9/b7f4d981cc6a4c92793d0aece4f6c4f5.jpg","https://i.imgur.com/C2gzuen.jpg"];var v=function(){var e=l.a.useState(0),a=Object(m.a)(e,2),t=a[0],n=a[1],c=l.a.useState("https://i.imgur.com/C2gzuen.jpg"),r=Object(m.a)(c,2),o=r[0],i=r[1];return l.a.useEffect((function(){var e=setTimeout((function(){n(t<3?function(e){return e+1}:0),i(b[t])}),5e3);return function(){return clearTimeout(e)}}),[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"home-wrap"},l.a.createElement("figure",{className:"image image image-section"},l.a.createElement("img",{src:o,alt:"nails",loading:"lazy"})),l.a.createElement("div",{className:"text-section"},l.a.createElement("h3",null,"Good Nails for Good Moments"),l.a.createElement("p",null,"A tucked away little gem just off Wandsworth road. We offer a wide range of nail and beauty treatments, giving customer care with finesse, passion, and a touch of sass."),l.a.createElement("div",{className:"links-wrap"},p()?l.a.createElement(s.b,{className:"",to:"/bookings"},l.a.createElement("p",{className:"link-btn"},"Book now")):l.a.createElement(s.b,{className:"",to:"/login"},l.a.createElement("p",{className:"link-btn"},"Book now")),l.a.createElement(s.b,{className:"",to:"/location"},l.a.createElement("p",{className:"link-btn"},"Find us"))))))},f=t(24),g=t(25),N=t(27),h=t(26),w=t(34),k=(t(68),function(e){Object(N.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(f.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).state={data:[],viewport:{latitude:51.479575,longitude:-.127694,width:"40vw",height:"60vh",zoom:16}},e.moveMap=function(a){e.setState({viewport:a})},e}return Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.b,Object.assign({mapboxApiAccessToken:"pk.eyJ1IjoidGx5MTAwMSIsImEiOiJja2E1NWd3eG4wMmd3M2ZxdHlndGJqaXJiIn0.No_VQ8MQX4m9Vd5RWNN_bw",mapStyle:"mapbox://styles/mapbox/light-v10"},this.state.viewport,{onViewportChange:this.moveMap}),l.a.createElement(w.a,{latitude:51.47963,longitude:-.127695},l.a.createElement("span",{role:"img","aria-label":"marker"},"\ud83d\udccd"))))}}]),t}(l.a.Component));var y=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"location-wrap"},l.a.createElement("div",{className:"text-section"},l.a.createElement("h3",null,"10 WILCOX ROAD"),l.a.createElement("h3",null,"LONDON, SW8 2UX"),l.a.createElement("div",{className:"info"},l.a.createElement("p",{className:"bold spaced"},"OPENING TIMES"),l.a.createElement("div",{className:"spaced gap"},l.a.createElement("p",{className:"bold"},"MONDAY - SATURDAY"),l.a.createElement("p",null,"10am - 7pm")),l.a.createElement("div",{className:"spaced gap"},l.a.createElement("p",{className:"bold"},"SUNDAY"),l.a.createElement("p",null," 11am - 5pm")),l.a.createElement("p",{className:"bold"},"Booking is just a tap away"),l.a.createElement("p",null,"You can now make, change, and cancel your bookings through our website. Alternatively if you would like to contact us, feel free to call us on ",l.a.createElement("span",{className:"bold"},"020 7498 2370"))),p()?l.a.createElement(s.b,{className:"",to:"/bookings"},l.a.createElement("p",{className:"link-btn"},"Book now")):l.a.createElement(s.b,{className:"",to:"/login"},l.a.createElement("p",{className:"link-btn"},"Book now"))),l.a.createElement("div",{className:"map"},l.a.createElement(k,null))))},O=t(13),j=t.n(O),_=t(18),x=t(16),S=t(15),C=t(19),D=t.n(C);var M=function(){var e=l.a.useState(""),a=Object(m.a)(e,2),t=a[0],n=a[1],c=l.a.useState({email:"",password:""}),r=Object(m.a)(c,2),i=r[0],u=r[1],p=Object(o.f)(),d=function(e){try{u(Object(S.a)(Object(S.a)({},i),{},Object(x.a)({},e.target.name,e.target.value))),n("")}catch(a){console.log(a)}},E=function(){var e=Object(_.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,D.a.post("/api/auth/login/",i);case 4:t=e.sent,l=t.data.token,window.localStorage.setItem("vandnpersonaltoken",l),p.push("/bookings"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),n("Invalid Credentials");case 13:case"end":return e.stop()}var l}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("section",{className:"section register-wrap"},l.a.createElement("div",{className:"containers"},l.a.createElement("div",{className:"column"},l.a.createElement("form",{onSubmit:E,className:"column box"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Email"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input ".concat(t?"is-danger":""),placeholder:"Email",name:"email",onChange:d,value:i.email}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{type:"password",className:"input ".concat(t?"is-danger":""),placeholder:"Password",name:"password",onChange:d,value:i.password})),t&&l.a.createElement("small",{className:"help is-danger"},t)),l.a.createElement("div",{className:"field"},l.a.createElement("button",{type:"submit",className:"button is-fullwidth pink"},"Login")),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"textAlign"},"Don't have a login? ",l.a.createElement(s.b,{to:"/register"}," Register here")))))))};var P=function(){var e=l.a.useState({}),a=Object(m.a)(e,2),t=a[0],n=a[1],c=l.a.useState({first_name:"",last_name:"",mobile:"",email:"",password:"",password_confirmation:"",wants_emails:!1,username:""}),r=Object(m.a)(c,2),s=r[0],i=r[1],u=Object(o.f)(),p=function(e){try{var a="checkbox"===e.target.type?e.target.checked:e.target.value;"email"===e.target.name?i(Object(S.a)(Object(S.a)({},s),{},Object(x.a)({username:a},e.target.name,a))):i(Object(S.a)(Object(S.a)({},s),{},Object(x.a)({},e.target.name,a))),n("")}catch(t){console.log(t)}},d=function(){var e={};s.email||(e.email="Please enter a valid email address"),s.first_name||(e.first_name="Please enter a first name"),s.last_name||(e.last_name="Please enter a last name"),s.mobile&&11===s.mobile.length||(e.mobile="Please enter a valid number"),s.password?s.password.length<8&&(e.password="Password must be 8 characters or longer with a number and symbol(!/.*$\xa3)"):e.password="Please enter a password","{}"===JSON.stringify(e)&&s.password===s.password_confirmation&&(e.email="This email is already in use"),n(e)},E=function(){var e=Object(_.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,D.a.post("/api/auth/register/",s);case 4:u.push("/login"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),d();case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("section",{className:"section register-wrap"},l.a.createElement("div",{className:"containers"},l.a.createElement("div",{className:"columns"},l.a.createElement("form",{onSubmit:E,className:"column box"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Email"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input ".concat(t.email?"is-danger":""),placeholder:"Email",name:"email",onChange:p,value:s.email})),t.email&&l.a.createElement("small",{className:"help is-danger"},s.email?"An account with this email already exists":t.email)),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"First Name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input ".concat(t.first_name?"is-danger":""),placeholder:"First Name",name:"first_name",onChange:p,value:s.first_name})),t.first_name&&l.a.createElement("small",{className:"help is-danger"},t.first_name)),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Last Name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input ".concat(t.last_name?"is-danger":""),placeholder:"Last Name",name:"last_name",onChange:p,value:s.last_name})),t.last_name&&l.a.createElement("small",{className:"help is-danger"},t.last_name)),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Phone Number"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input ".concat(t.mobile?"is-danger":""),placeholder:"Phone Number",name:"mobile",onChange:p,value:s.mobile})),t.mobile&&l.a.createElement("small",{className:"help is-danger"},t.mobile)),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input ".concat(t.password?"is-danger":""),type:"password",placeholder:"Password",name:"password",onChange:p,value:s.password})),t.password&&l.a.createElement("small",{className:"help is-danger"},t.password)),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password Confirmation"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{type:"password",className:"input ".concat(s.password!==s.password_confirmation?"is-danger":""),placeholder:"Password Confirmation",name:"password_confirmation",onChange:p,value:s.password_confirmation})),s.password!==s.password_confirmation&&l.a.createElement("small",{className:"help is-danger"},"Your entered passwords do not match")),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"inline"},l.a.createElement("label",{className:"checkbox label tickbox"},l.a.createElement("input",{type:"checkbox",name:"wants_emails",checked:s.wants_emails,onChange:p})),l.a.createElement("p",null,"Would you like to recieve discounts, updates, and promotions via email?"))),l.a.createElement("div",{className:"field"},l.a.createElement("button",{type:"submit",className:"button is-fullwidth pink"},"Register"))))))},A=t(29),B=t.n(A),F=(t(87),t(49)),I=t.n(F);var L=function(){return l.a.createElement("div",{className:"loading"},l.a.createElement(I.a,{type:"TailSpin",color:"#ffd539",height:"100",width:"100"}))},W=t(21),T=t.n(W);t(107);T.a.settings={theme:"ios",themeVariant:"light",display:"bubble"};var Y=new Date,G=(new Date(Y.getFullYear()+10,Y.getMonth()),[{start:"19:01",end:"9:59"},{start:new Date(2010,11,20),end:new Date(Y.getDay)}]),J=function(e){Object(N.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(f.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).state={val:new Date("2020-12")},e.setData=function(a,t){var n=t.getVal();e.props.onSet(n)},e}return Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a.Form,null,l.a.createElement(T.a.FormGroup,null,l.a.createElement(T.a.FormGroupTitle,null,"New Booking"),l.a.createElement(T.a.Datetime,{onChange:this.setData,invalid:G,steps:{minute:10},dateWheels:"|D M d|"},l.a.createElement(T.a.Input,{placeholder:"Please Select..."},"Date & time")))))}}]),t}(l.a.Component),V=function(){return{headers:{Authorization:"Bearer ".concat(i())}}},R=function(){return D.a.get("".concat("/api","/menu/"))},H={data:null,error:null,loading:!0};var z=function(){var e=l.a.useState(H),a=Object(m.a)(e,2),t=a[0],n=a[1],c=l.a.useState(H),r=Object(m.a)(c,2),s=r[0],i=r[1],u=l.a.useState(null),p=Object(m.a)(u,2),d=p[0],E=p[1],b=l.a.useState({type:"",sub:"",service:""}),v=Object(m.a)(b,2),f=v[0],g=v[1],N=Object(o.f)(),h=function(){var e=Object(_.a)(j.a.mark((function e(){var a,t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("".concat("/api","/booking/"),V());case 3:return a=e.sent,e.next=6,R();case 6:t=e.sent,i({data:t.data}),n({data:a.data,loading:!1,error:null}),console.log(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n({data:{},loading:!0,error:!0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();l.a.useEffect((function(){h()}),[N]);var w=function(e,a){console.log(e),g(Object(S.a)(Object(S.a)({},f),{},Object(x.a)({},a,e)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"bookings-wrap"},l.a.createElement("div",{className:"new-booking"},"New Booking",l.a.createElement("div",null,l.a.createElement(J,{onSet:function(e){var a=B()(e).format("YYYY-MM-DD"),t=B()(e).format("H:mm:ss"),n=B()(t,"H:mm:ss").add(30,"m").format("H:mm:ss");E({date:a,start_time:t,end_time:n})}}),l.a.createElement("div",{className:"services-wrap"},s.loading?l.a.createElement(L,null):s.data.map((function(e){var a=[];return a.push(l.a.createElement("div",{key:"booking".concat(e.name),className:"btn type \n                      ".concat(f.type&&f.type!==e.name?"type-hide":""),onClick:function(){return w(e.name,"type")},value:e.name},e.name)),e.sub_services.map((function(t){a.push(l.a.createElement("div",{key:"booking".concat(t.name),className:"btn sub ".concat(f.type===e.name?e.name:""),onClick:function(){return w(t.name,"sub")}},t.name)),t.services.map((function(n){a.push(l.a.createElement("p",{key:n.name,className:"btn service ".concat(f.type===e.name&&f.sub===t.name?"show":""),onClick:function(){return w(n.id,"service")}},n.name))}))})),a}))),l.a.createElement("p",{className:"submit",onClick:function(){var e,a={service:f.service,date:d.date,start_time:d.start_time,end_time:d.end_time};console.log(a),e=a,D.a.post("".concat("/api","/booking/"),e,V()),h()}},"Submit"))),l.a.createElement("div",{className:"user-bookings",onClick:function(){return console.log(d)}},t.loading?l.a.createElement(L,null):t.data.map((function(e){var a=[];return a.push(l.a.createElement("div",{key:"booking".concat(e.id),className:""},e.date,l.a.createElement("p",null,e.service.name," ",e.start_time," - ",e.end_time))),a})))))},X={data:null,error:null,loading:!0};var U=function(){var e=l.a.useState(X),a=Object(m.a)(e,2),t=a[0],n=a[1],c=Object(o.f)();return l.a.useEffect((function(){(function(){var e=Object(_.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:a=e.sent,n({data:a.data,loading:!1,error:null}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n({data:{},loading:!0,error:!0}),c.push("/notfound");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[c]),l.a.createElement("section",{className:"menu-wrap"},l.a.createElement("div",{className:"services"},t.loading?l.a.createElement(L,null):t.data.map((function(e){var a=[];return a.push(l.a.createElement("p",{key:e.name,className:"type"},e.name)),e.sub_services.map((function(e){a.push(l.a.createElement("p",{key:e.name,className:"sub-type"},e.name)),e.services.map((function(e){a.push(l.a.createElement("div",{className:"service-wrap"},l.a.createElement("p",{key:e.name,className:"service"},e.name),l.a.createElement("p",{key:"".concat(e.name,"price"),className:"service-info"},"\xa3",e.price," ",l.a.createElement("span",null,"/")," ",e.duration," mins")))}))})),a}))))};var Q=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"home-wrap"},l.a.createElement("div",{className:"text-section"},l.a.createElement("h3",null,"Oops something went wrong"),l.a.createElement("p",null,"Click the button to be redirected home"),l.a.createElement("div",{className:"links-wrap"},l.a.createElement(s.b,{className:"",to:"/"},l.a.createElement("p",null,"Home"))))))};var q=function(){return l.a.createElement(s.a,null,l.a.createElement(d,null),l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:v}),l.a.createElement(o.a,{path:"/location",component:y}),l.a.createElement(o.a,{path:"/login",component:M}),l.a.createElement(o.a,{path:"/register",component:P}),l.a.createElement(o.a,{path:"/menu",component:U}),l.a.createElement(o.a,{path:"/bookings",component:z}),l.a.createElement(o.a,{path:"/notfound",component:Q})),l.a.createElement(E,null))};r.a.render(l.a.createElement(q,null),document.getElementById("root"))},50:function(e,a,t){e.exports=t(108)},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){}},[[50,1,2]]]);
//# sourceMappingURL=main.e42827cc.chunk.js.map